/*
================================================================================
ะฃัะพะบ: ะัะธะฝััะพะฝะฝะพะต ะผะธะณะฐะฝะธะต ะธ ะฐะฝัะธะดัะตะฑะตะทะณ ะบะฝะพะฟะบะธ ั INPUT_PULLUP
ะัะพะตะบั: ยซะกะฒะตัะพัะพั ะฑะตะท delay()ยป

ะฆะะะ ะฃะะะะ
1) ะะฐััะธัััั ะผะธะณะฐัั ะฝะตัะบะพะปัะบะธะผะธ ัะฒะตัะพะดะธะพะดะฐะผะธ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ ะฑะตะท delay() ะฟัะธ ะฟะพะผะพัะธ millis().
2) ะะพะฝััั, ะบะฐะบ ัะฐะฑะพัะฐะตั ะฒัััะพะตะฝะฝะฐั ะฟะพะดััะถะบะฐ INPUT_PULLUP.
3) ะะตะฐะปะธะทะพะฒะฐัั ะฝะฐะดัะถะฝัั ัะตะฐะบัะธั ะฝะฐ ะบะฝะพะฟะบั (ะฐะฝัะธะดัะตะฑะตะทะณ) ะธ ะฟัะพัััั ยซะผะฐัะธะฝั ัะพััะพัะฝะธะนยป ะฝะฐ ัะปะฐะณะฐั.
4) ะะฐะทะพะฑัะฐัััั, ััะพ ัะฐะบะพะต ยซะฐัะธะฝััะพะฝะฝะฐั ะปะพะณะธะบะฐยป ะธ ะทะฐัะตะผ ััะฐะฝะธัั ัะฐะนะผะตัั.

ะกะฅะะะ ะะะะะะฎะงะะะะฏ 
- ะัะฐัะฝัะน ัะฒะตัะพะดะธะพะด (ัะตัะตะท ัะตะทะธััะพั 220โ330ฮฉ) ะบ D2 โ ะดััะณะพะน ะฒัะฒะพะด ัะฒะตัะพะดะธะพะดะฐ ะฒ GND.
- ะัะปััะน ัะฒะตัะพะดะธะพะด (ัะตัะตะท ัะตะทะธััะพั 220โ330ฮฉ) ะบ D3 โ GND.
- ะะตะปัะฝัะน ัะฒะตัะพะดะธะพะด (ัะตัะตะท ัะตะทะธััะพั 220โ330ฮฉ) ะบ D4 โ GND.
- ะะฝะพะฟะบะฐ ะบ D5 ะธ GND. ะะฝะตัะฝะธะน ัะตะทะธััะพั ะะ ะฝัะถะตะฝ: ะผั ะฒะบะปััะธะผ INPUT_PULLUP!
  (ะญัะพ ะทะฝะฐัะธั: ะบะพะณะดะฐ ะบะฝะพะฟะบะฐ ะะ ะฝะฐะถะฐัะฐ โ ะฝะฐ ะฒัะพะดะต ะปะพะณะธัะตัะบะฐั 1; ะบะพะณะดะฐ ะฝะฐะถะฐัะฐ โ ะปะพะณะธัะตัะบะธะน 0)


ะะะะ
- ะะธะบะฐะบะธั delay() โ ะพะฝะธ ยซะทะฐะผะพัะฐะถะธะฒะฐััยป ะฟัะพัะตััะพั ะธ ะผะตัะฐัั ะดะตะปะฐัั ะฝะตัะบะพะปัะบะพ ะทะฐะดะฐั ััะฐะทั.
- millis() ะฒะพะทะฒัะฐัะฐะตั ัะธัะปะพ ะผะธะปะปะธัะตะบัะฝะด ั ะผะพะผะตะฝัะฐ ััะฐััะฐ; ะผั ััะฐะฒะฝะธะฒะฐะตะผ ยซัะตะบััะตะต ะฒัะตะผั โ ะฒัะตะผั_ััะฐััะฐ > ะธะฝัะตัะฒะฐะปยป.
- ะะปั ัััะพะนัะธะฒะพะน ะบะฝะพะฟะบะธ ะฝัะถะตะฝ ะฐะฝัะธะดัะตะฑะตะทะณ (ะพะฑััะฝะพ 10โ50 ะผั). ะะดะตัั ะทะฐะดะฐะฝะพ 5 ะผั โ ััะพ ยซะผะธะฝะธะผะฐะปัะฝะพ ะดะพะฟัััะธะผะพยป.
- ะะพะณะธะบะฐ ะบะฝะพะฟะบะธ ะธะฝะฒะตััะธัะพะฒะฐะฝะฐ: ะธะท-ะทะฐ INPUT_PULLUP ยซะฝะฐะถะฐัะพยป = 0, ยซะพัะถะฐัะพยป = 1. ะั ะฟะตัะตะฒะพัะฐัะธะฒะฐะตะผ ะตั ะพะฟะตัะฐัะพัะพะผ ะธะฝะฒะตััะธะธ ยซ!ยป.

- ะขะธะฟ ัะฐะนะผะตัะพะฒ ะปัััะต ะดะตะปะฐัั unsigned long (ะบะปะฐััะธัะตัะบะธะน ะฒะฐัะธะฐะฝั Arduino ะฟัะพัะธะฒ ะฟะตัะตะฟะพะปะฝะตะฝะธั).
  ะ ะบะพะดะต ะธัะฟะพะปัะทัะตััั long โ ะดะปั ััะตะฑะฝะพะน ะฟัะพััะพัั, ะฝะพ ะฒ ัะตะฐะปัะฝะพะผ ะบะพะดะต ะผะตะฝัะนัะต ะฝะฐ unsigned long.
- ะะฟะตัะฐัะพั ยซandยป โ ััะพ ะดะพะฟัััะธะผัะน ัะธะฝะพะฝะธะผ ยซ&&ยป ะฒ C++. ะะปั ะธะฝะดััััะธะธ ัะฐัะต ะธัะฟะพะปัะทััั ยซ&&ยป.
- ะะพะผะฟะปะตะบัะธัะพะฒะฐะฝะธะต ะพะฟะตัะฐัะพัะพะฒ digitalWrite(pin, !digitalRead(pin)) ัะดะพะฑะตะฝ ะดะปั ยซะฟะตัะตะบะปััะตะฝะธัยป.
- ะะฝัะตัะฒะฐะปั ะฒัะฑัะฐะฝั ัะฐะทะฝัะต (100 ะผั, 235 ะผั), ััะพะฑั ะฟะพะบะฐะทะฐัั ะฝะตะทะฐะฒะธัะธะผะพััั ัะฐะนะผะตัะพะฒ.

ะะะะะขะะะ (ัะดะตะปะฐะนัะต ะฟะพัะปะต ะทะฐะฟััะบะฐ)
1) ะะทะผะตะฝะธัะต ะดะปะธัะตะปัะฝะพััั ะถัะปัะพะณะพ ะผะธะณะฐะฝะธั ะฝะฐ 500 ะผั โ ะฟะพัะผะพััะธัะต, ะบะฐะบ ะผะตะฝัะตััั ัะธััะฝะพะบ.
2) ะกะดะตะปะฐะนัะต, ััะพะฑั ะทะตะปัะฝัะน ัะฒะตัะพะดะธะพะด ะผะตะฝัะป ัะพััะพัะฝะธะต ัะพะปัะบะพ ะฟัะธ ะพัะฟััะบะฐะฝะธะธ ะบะฝะพะฟะบะธ (ัะพะฑััะธะต ยซreleaseยป).
3) ะัะตะฒัะฐัะธัะต ะฑะปะพะบ ั ะบัะฐัะฝัะผ/ะถัะปััะผ ะฒ ััะฝะบัะธั blink(pin, interval, timer).
4) ะฃัะปะพะถะฝะตะฝะธะต: ะดะปะธะฝะฝะพะต ะฝะฐะถะฐัะธะต (>1 ั) ะฒะบะปััะฐะตั ะทะตะปัะฝัะน ะฟะพััะพัะฝะฝะพ, ะบะพัะพัะบะพะต โ ะฟะตัะตะบะปััะฐะตั.

ะะะะะะกะซ ะะะฏ ะกะะะะะะะะะะะ
- ะะพัะตะผั delay() ะผะตัะฐะตั ะผะธะณะฐัั ะฝะตัะบะพะปัะบะธะผะธ ัะฒะตัะพะดะธะพะดะฐะผะธ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ?
- ะงะตะผ ัะพัะพั INPUT_PULLUP ะธ ะฟะพัะตะผั ะบะฝะพะฟะบั ะฟะพะดะบะปััะฐะตะผ ะบ GND?
- ะงัะพ ัะฐะบะพะต ยซะฐะฝัะธะดัะตะฑะตะทะณยป ะธ ะดะปั ัะตะณะพ ะฝัะถะตะฝ ัะปะฐะณ buttonPressed?
- ะะพัะตะผั ััะฐะฒะฝะธะฒะฐัั ยซmillis() - timer > intervalยป, ะฐ ะฝะต ยซmillis() > timer + intervalยป?

================================================================================
*/

int greenPin  = 4;  // ะะธะฝ ะทะตะปัะฝะพะณะพ ัะฒะตัะพะดะธะพะดะฐ 
int yellowPin = 3;  // ะะธะฝ ะถัะปัะพะณะพ ัะฒะตัะพะดะธะพะดะฐ
int redPin    = 2;  // ะะธะฝ ะบัะฐัะฝะพะณะพ ัะฒะตัะพะดะธะพะดะฐ
int buttonPin = 5;  // ะะธะฝ ะบะฝะพะฟะบะธ (ะบะฝะพะฟะบะฐ ะผะตะถะดั D5 ะธ GND, ะฒะบะปััะธะผ INPUT_PULLUP)

// ะขะฐะนะผะตัั ะดะปั ะบะฐะถะดะพะณะพ ะฝะตะทะฐะฒะธัะธะผะพะณะพ ะฟัะพัะตััะฐ ะผะธะณะฐะฝะธั/ะดัะตะฑะตะทะณะฐ.
long timerRed   = 0;
long timerYellow= 0;
long timerGreen = 0;

// ะะตัะตะผะตะฝะฝัะต ะดะปั ะปะพะณะธะบะธ ะบะฝะพะฟะบะธ
int button = 0;          // ะขะตะบััะตะต ัะพััะพัะฝะธะต ะบะฝะพะฟะบะธ ะฟะพัะปะต ะธะฝะฒะตััะธะธ (!digitalRead)
int buttonPressed = 0;   // ะคะปะฐะณ ยซะบะฝะพะฟะบะฐ ะฝะฐัะพะดะธััั ะฒ ะฝะฐะถะฐัะพะผ ัะพััะพัะฝะธะธยป (ะผะฐัะธะฝะฐ ัะพััะพัะฝะธะน: 0โ1โ0)

/*
setup() โ ะพะดะฝะพะบัะฐัะฝัะน ะฒัะทะพะฒ ะฟัะธ ััะฐััะต.
- ะัะฒะพะดั ัะฒะตัะพะดะธะพะดะพะฒ โ OUTPUT.
- ะะฝะพะฟะบะฐ โ INPUT_PULLUP (ะฒะบะปััะฐะตั ะฒะฝัััะตะฝะฝัั ะฟะพะดััะถะบั ะบ VCC โ ัะบะพะฝะพะผะธะผ ัะตะทะธััะพั ะธ ะผะตััะฐ ะฝะฐ ะผะฐะบะตัะบะต).
*/
void setup()
{
  pinMode(redPin,    OUTPUT);
  pinMode(yellowPin, OUTPUT);
  pinMode(greenPin,  OUTPUT);

  pinMode(buttonPin, INPUT_PULLUP); // ะะ ะฝะฐะถะฐัะฐ: HIGH (1). ะะฐะถะฐัะฐ: LOW (0).
}

/*
loop() โ ะณะปะฐะฒะฝัะน ัะธะบะป. ะ ะฝัะผ ััะธ ะฝะตะทะฐะฒะธัะธะผัั ยซะทะฐะดะฐัะธยป, ะบะฐะถะดะฐั ัะพ ัะฒะพะธะผ ัะฐะนะผะตัะพะผ:
1) ะัะฐัะฝัะน ะผะธะณะฐะตั ะบะฐะถะดัะต ~100 ะผั.
2) ะัะปััะน ะผะธะณะฐะตั ะบะฐะถะดัะต ~235 ะผั.
3) ะะตะปัะฝัะน ะฟะตัะตะบะปััะฐะตััั ะฟัะธ ะฝะฐะถะฐัะธะธ ะบะฝะพะฟะบะธ (ั ะฐะฝัะธะดัะตะฑะตะทะณะพะผ ~5 ะผั ะธ ัะปะฐะณะพะผ, ััะพะฑั ะฝะต ยซะดัะตะฑะตะทะถะฐะปะพยป).
*/
void loop() 
{
  // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  // 1) ะัะธะฝััะพะฝะฝะพะต ะผะธะณะฐะฝะธะต ะะะะกะะซะ ะฑะตะท delay()
  // ะัะพะฒะตััะตะผ, ะฟัะพัะปะพ ะปะธ 100 ะผั ั ะฟะพัะปะตะดะฝะตะณะพ ะฟะตัะตะบะปััะตะฝะธั.
  if (millis() - timerRed > 100) {
    // ะะตัะตะบะปััะฐะตะผ ัะพััะพัะฝะธะต ะฒัะฒะพะดะฐ: ะตัะปะธ ะฑัะปะพ 1 โ ััะฐะฝะตั 0, ะธ ะฝะฐะพะฑะพัะพั.
    digitalWrite(redPin, !digitalRead(redPin));
    // ะะฐะฟะพะผะธะฝะฐะตะผ ยซะฒัะตะผั ะฟะพัะปะตะดะฝะตะณะพ ะฟะตัะตะบะปััะตะฝะธัยป
    timerRed = millis();
  }

  // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  // 2) ะัะธะฝััะพะฝะฝะพะต ะผะธะณะฐะฝะธะต ะะะะขะซะ ะฑะตะท delay()
  if (millis() - timerYellow > 235) {
    digitalWrite(yellowPin, !digitalRead(yellowPin));
    timerYellow = millis();
  }

  // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  // 3) ะะฑัะฐะฑะพัะบะฐ ะะะะะะ ั ะฐะฝัะธะดัะตะฑะตะทะณะพะผ ะธ ัะปะฐะณะพะผ ัะพััะพัะฝะธั
  // INPUT_PULLUP ะดะฐัั ยซะธะฝะฒะตััะธัะพะฒะฐะฝะฝััยป ะปะพะณะธะบั: ะะ ะฝะฐะถะฐัะฐ = 1 (HIGH), ะฝะฐะถะฐัะฐ = 0 (LOW).
  // ะะพััะพะผั ััะฐะทั ะธะฝะฒะตััะธััะตะผ, ััะพะฑั button = 1 ะพะทะฝะฐัะฐะปะพ ยซะฝะฐะถะฐัะฐยป.
  button = !digitalRead(buttonPin);

  // ะะฐัะธะฐะฝั ะผะฐัะธะฝั ัะพััะพัะฝะธะน:
  // ะกะพััะพัะฝะธะต A: buttonPressed == 0 (ะบะฝะพะฟะบะฐ ะฒ ยซะพัะถะฐัะพะผยป ัะพััะพัะฝะธะธ). 
  // ะัะธ ะฝะฐะถะฐัะธะธ (button == 1) ะธ ะฒัะดะตัะถะบะต ะฐะฝัะธะดัะตะฑะตะทะณะฐ โ ะฟะตัะตะบะปััะฐะตะผ ะทะตะปัะฝัะน ะธ ะฟะตัะตัะพะดะธะผ ะฒ ัะพััะพัะฝะธะต B.
  if (millis() - timerGreen > 5 and button == 1 and buttonPressed == 0) {
    digitalWrite(greenPin, !digitalRead(greenPin)); // ะะดะฝะพะบัะฐัะฝะพะต ะฟะตัะตะบะปััะตะฝะธะต ะฟัะธ ะฝะฐะถะฐัะธะธ
    timerGreen = millis();  // ะกะฑัะฐััะฒะฐะตะผ ัะฐะนะผะตั ะฐะฝัะธะดัะตะฑะตะทะณะฐ
    buttonPressed = 1;      // ะคะธะบัะธััะตะผ, ััะพ ะผั ัะถะต ะพะฑัะฐะฑะพัะฐะปะธ ยซะฝะฐะถะฐัะพะตยป ัะพััะพัะฝะธะต
  }

  // ะกะพััะพัะฝะธะต B: buttonPressed == 1 (ะบะฝะพะฟะบะฐ ยซััะธัะฐะตัััยป ะฝะฐะถะฐัะพะน).
  // ะะดัะผ ะพัะฟััะบะฐะฝะธั (button == 0) ั ะฒัะดะตัะถะบะพะน ะฐะฝัะธะดัะตะฑะตะทะณะฐ โ ะฒะพะทะฒัะฐัะฐะตะผัั ะฒ ัะพััะพัะฝะธะต A.
  if (millis() - timerGreen > 5 and button == 0 and buttonPressed == 1) {
    timerGreen = millis();  // ะกะฝะพะฒะฐ ัะฑัะพั ัะฐะนะผะตัะฐ ะดะปั ััะฐะฑะธะปัะฝะพััะธ
    buttonPressed = 0;      // ะะฐะทัะตัะฐะตะผ ะพะฑัะฐะฑะพัะบั ัะปะตะดัััะตะณะพ ะฝะฐะถะฐัะธั
  }
}

/*
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ก ะะะะ ะะะฏ ะฃะะฃะงะจะะะะ

1) ะขะธะฟั ะธ ะบะพะฝััะฐะฝัั:
   - ะะฐะผะตะฝะธัะต int/long ะฝะฐ ะฑะพะปะตะต ัะพัะฝัะต ัะธะฟั:
       const uint8_t redPin = 2;
       unsigned long timerRed = 0;
   - ะะฝัะตัะฒะฐะปั ัะดะตะปะฐะนัะต ะบะพะฝััะฐะฝัะฐะผะธ: const unsigned long RED_INTERVAL = 100;

2) ะฃะฝะธะฒะตััะฐะปัะฝะฐั ััะฝะบัะธั ะผะธะณะฐะฝะธั:
   ะกะพะทะดะฐะนัะต ััะฝะบัะธั:
       void blink(uint8_t pin, unsigned long &timer, unsigned long interval) { ... }
   ะธ ะธัะฟะพะปัะทัะนัะต ะตั ะดะปั ะบัะฐัะฝะพะณะพ/ะถัะปัะพะณะพ.

3) ะะพะปััะต ัะพััะพัะฝะธะน ะบะฝะพะฟะบะธ:
   ะะตะฐะปะธะทัะนัะต ะบะพัะพัะบะพะต/ะดะปะธะฝะฝะพะต ะฝะฐะถะฐัะธะต:
   - ะัะปะธ ัะดะตัะถะฐะฝะธะต > 1000 ะผั โ ะทะตะปัะฝัะน ะฒะบะปััะฐะตััั ะฟะพััะพัะฝะฝะพ.
   - ะัะปะธ ะบะพัะพัะบะพะต โ ะฟัะพััะพ ะฟะตัะตะบะปััะตะฝะธะต.

4) ะกัะธะปั C++:
   - ะะผะตััะพ ยซandยป ะธัะฟะพะปัะทัะนัะต ยซ&&ยป โ ัะฐะบ ะฟัะธะฝััะพ ะฒ ะฑะพะปััะธะฝััะฒะต ะบะพะผะฐะฝะด/ะณะฐะนะดะปะฐะนะฝะพะฒ.

ะฃะะะงะ! ะ ะฟะพะผะฝะธัะต: ะพััััััะฒะธะต delay() โ ะฒะฐั ะณะปะฐะฒะฝัะน ะธะฝััััะผะตะฝั ะดะปั ยซะฟะฐัะฐะปะปะตะปัะฝััยป ะทะฐะดะฐั ะฝะฐ ะผะธะบัะพะบะพะฝััะพะปะปะตัะต.
*/
